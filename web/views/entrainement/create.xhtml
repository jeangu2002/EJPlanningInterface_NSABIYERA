<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    template="../../header.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">

    <title><ui:define name="title">Entrainements</ui:define></title>

    <ui:define name="body">
        <h:form>
            <p:growl id="growl" showDetail="true" sticky="true" life="3000"/> 
            <p:fieldset legend="Ajouter un entrainement" widgetVar="regWidget" style="width: 600px;">

                <h:panelGrid columns="1" width="550" border="0">
                    <h:outputLabel value="sport" />
                    <h:selectManyListbox value="#{controllerEntrainementManagedBean.entrainementBean.sports}" converter="sportconverter">
                        <f:selectItems value="#{controllerEntrainementManagedBean.getSportList()}" var="sport" 
                                       itemValue="#{sport}" 
                                       itemLabel="#{sport.nom}"/>
                    </h:selectManyListbox>

                    <h:outputLabel value="groupe" />
                    <h:selectOneMenu value="#{controllerEntrainementManagedBean.entrainementBean.groupe}" converter="groupeconverter">
                        <f:selectItems value="#{controllerEntrainementManagedBean.getGroupList()}" var="groupe" 
                                       itemValue="#{groupe}" 
                                       itemLabel="#{groupe.nom}"/>
                    </h:selectOneMenu>

                    <h:outputLabel value="saison" />
                    <h:selectOneMenu value="#{controllerEntrainementManagedBean.entrainementBean.saison}" converter="saisonconverter">
                        <f:selectItems value="#{controllerEntrainementManagedBean.getSaisonList()}" var="saison" 
                                       itemValue="#{saison}" 
                                       itemLabel="#{saison.nom}"/>
                    </h:selectOneMenu>

                    <p:outputLabel for="dateEntrainement" value="date" />
                    <p:calendar id="dateEntrainement" value="#{controllerEntrainementManagedBean.entrainementBean.dateEntrainement}" pattern="yyyy/dd/MM" mask="true" />

                    <h:outputLabel value="statut" />
                    <h:selectOneMenu value="#{controllerEntrainementManagedBean.entrainementBean.statut}">
                        <f:selectItem itemValue="0" itemLabel="En attente" />
                        <f:selectItem itemValue="1" itemLabel="ConfirmÃ©" />
                        <f:selectItem itemValue="2" itemLabel="AnnulÃ©" />
                    </h:selectOneMenu>

                    <p:commandButton value="Ajouter"
                                     action="#{controllerEntrainementManagedBean.addEntrainement(controllerEntrainementManagedBean.entrainementBean)}"
                                     ajax="false"
                                     update="growl">

                    </p:commandButton>
                </h:panelGrid>  

            </p:fieldset>

        </h:form>
    </ui:define>
</ui:composition>


